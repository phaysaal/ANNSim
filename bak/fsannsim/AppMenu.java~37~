/*
 * AppMenu.java
 *
 * Created on June 7, 2006, 6:03 AM
 */

package fsannsim;

import javax.swing.JFileChooser;
import java.io.RandomAccessFile;
import java.io.DataInputStream;
import java.io.*;
import java.beans.PropertyVetoException;

/**
 *
 * @author  Mahmud
 */
public class AppMenu extends javax.swing.JFrame {
    private javax.swing.JFileChooser jfc = null;
    public static Simulator sim = null;
    /** Creates new form AppMenu */
    public AppMenu() {

        initComponents();
        setJMenuBar(jMenuBar1);
        initToolbar();

        this.setExtendedState(MAXIMIZED_BOTH);
        try {
            jbInit();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    public void initToolbar() {
        toolbar = new javax.swing.JToolBar();
        toolbar.setRollover(true);

        btnRun = new javax.swing.JButton("Run");
        btnNextStep = new javax.swing.JButton("Next Step");
        btnStop = new javax.swing.JButton("Stop");
        toolbar.add(btnRun);
        toolbar.add(btnNextStep);
        toolbar.add(btnStop);

        toolpanel = new javax.swing.JPanel();
        toolpanel.setLayout(new java.awt.BorderLayout());
        toolpanel.add(toolbar, java.awt.BorderLayout.WEST);

        lblStatus = new javax.swing.JLabel(
                "All Credits: Mahmudul Faisal Al Ameen");

        statuspanel = new javax.swing.JPanel();
        statuspanel.setLayout(new java.awt.BorderLayout());
        statuspanel.add(lblStatus, java.awt.BorderLayout.NORTH);

        //getContentPane().add(toolpanel, java.awt.BorderLayout.NORTH);
        getContentPane().add(statuspanel, java.awt.BorderLayout.SOUTH);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        mnuPattern = new javax.swing.JMenuItem();
        mnuImagePattern = new javax.swing.JMenuItem();
        //mnuNetwork = new javax.swing.JMenuItem();
        mnuNewSimulation = new javax.swing.JMenuItem();
        mnuOpenSimulation = new javax.swing.JMenuItem();
        jSeparator1 = new javax.swing.JSeparator();
        mnuExit = new javax.swing.JMenuItem();
        jMenu2 = new javax.swing.JMenu();
        mnuAbout = new javax.swing.JMenuItem();
        //mnuLoad = new javax.swing.JMenuItem();
        //jSeparator2 = new javax.swing.JSeparator();
        mnuRun = new javax.swing.JMenuItem();
        //mnuNext = new javax.swing.JMenuItem();
        //mnuRestart = new javax.swing.JMenuItem();
        //mnuGotoStep = new javax.swing.JMenuItem();
        //mnuStatus = new javax.swing.JMenu();
        //mnuLoadInput = new javax.swing.JMenuItem();
        //mnuInputData = new javax.swing.JMenuItem();
        jdp = new javax.swing.JDesktopPane();

        jMenu1.setText("Menu");

        mnuNewSimulation.setText("New Simulator");
        mnuNewSimulation.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mnuNewSimulationActionPerformed(evt);
            }
        });

        jMenu1.add(mnuNewSimulation);

        mnuOpenSimulation.setText("Open Simulator");
        mnuOpenSimulation.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mnuOpenSimulationActionPerformed(evt);
            }
        });

        jMenu1.add(mnuOpenSimulation);

        jMenu1.add(new javax.swing.JSeparator());

        mnuImagePattern.setText("File Image To Pattern Generator");
        mnuImagePattern.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mnuImagePatternActionPerformed(evt);
            }
        });

        jMenu1.add(mnuImagePattern);

        mnuPattern.setText("Manual Picture To Pattern Generator");
        mnuPattern.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mnuPatternActionPerformed(evt);
            }
        });

        jMenu1.add(mnuPattern);

        /*
              mnuNetwork.setText("Network Developer");
         mnuNetwork.addActionListener(new java.awt.event.ActionListener() {
                  public void actionPerformed(java.awt.event.ActionEvent evt) {
                      mnuNetworkActionPerformed(evt);
                  }
              });

              jMenu1.add(mnuNetwork);
         */


        jMenu1.add(jSeparator1);

        mnuExit.setText("Exit");
        mnuExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                System.exit(0);
            }
        });
        jMenu1.add(mnuExit);

        jMenuBar1.add(jMenu1);

        jMenu2.setText("Help");
        mnuAbout.setText("About");
        mnuAbout.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mnuAboutActionPerformed(evt);
            }
        });
        jMenu2.add(mnuAbout);
        /*
                   //mnuLoad.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.
                        //        event.KeyEvent.VK_F2, 0));
                        //mnuLoad.setMnemonic('L');
                        //mnuLoad.setText("Load Data");
                        //jMenu2.add(mnuLoad);

                        //jMenu2.add(jSeparator2);

                        //mnuRun.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.
                        //        KeyEvent.VK_F5, 0));
                        //mnuRun.setMnemonic('R');
                        //mnuRun.setText("Run");
                        //mnuRun.addActionListener(new java.awt.event.ActionListener() {
                        //    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        //        mnuRunActionPerformed(evt);
                        //    }
                        //});

         mnuNext.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.
                        event.KeyEvent.VK_F7, 0));
                mnuNext.setMnemonic('N');
                mnuNext.setText("Next");
                jMenu2.add(mnuNext);

         mnuRestart.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.
                        event.KeyEvent.VK_F6, 0));
                mnuRestart.setMnemonic('s');
                mnuRestart.setText("Restart");
                jMenu2.add(mnuRestart);

         mnuGotoStep.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.
                        event.KeyEvent.VK_F8, 0));
                mnuGotoStep.setMnemonic('F');
                mnuGotoStep.setText("Start From Step x");
                jMenu2.add(mnuGotoStep);
         */
        jMenuBar1.add(jMenu2);
        /*
                mnuStatus.setText("Status");
                mnuLoadInput.setText("Load Input");
         mnuLoadInput.addActionListener(new java.awt.event.ActionListener() {
         public void actionPerformed(java.awt.event.ActionEvent evt) {
                        mnuLoadInputActionPerformed(evt);
                    }
                });

                mnuStatus.add(mnuLoadInput);

                mnuInputData.setText("Show Input Data");
                mnuStatus.add(mnuInputData);
         */
        //jMenuBar1.add(mnuStatus);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Fs ANN Simulator");
        getContentPane().add(jdp, java.awt.BorderLayout.CENTER);

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().
                                        getScreenSize();
        setBounds((screenSize.width - 800) / 2, (screenSize.height - 600) / 2,
                  800, 600);
    }

    // </editor-fold>//GEN-END:initComponents

    private void mnuLoadInputActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuLoadInputActionPerformed

    } //GEN-LAST:event_mnuLoadInputActionPerformed

    private void mnuRunActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuRunActionPerformed

    } //GEN-LAST:event_mnuRunActionPerformed

    public void mnuNewSimulationActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuSimulationActionPerformed
        sim = new Simulator();
        jdp.add(sim);
        try {
            sim.setSelected(true);
        } catch (Exception e) {}
    } //GEN-LAST:event_mnuSimulationActionPerformed

    public void mnuSaveSimulationActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuSimulationActionPerformed
        //sim = new Simulator();
        File file;
        JFileChooser jfc = new JFileChooser();
        jfc.showSaveDialog(this);
        if (jfc.getSelectedFile() == null) {
            return;
        }
        file = jfc.getSelectedFile();

        try {
            ObjectOutputStream oos = new ObjectOutputStream(new java.io.
                    FileOutputStream(file));
            oos.writeObject(sim);

        } catch (FileNotFoundException ex) {
        } catch (IOException ex) {
            /** @todo Handle this exception */
        }

    } //GEN-LAST:event_mnuSimulationActionPerformed

    //event_mnuSimulationActionPerformed

    public void mnuOpenSimulationActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuSimulationActionPerformed
        //sim = new Simulator();
        JFileChooser jfc = new JFileChooser();
        jfc.showOpenDialog(this);
        if (jfc.getSelectedFile() == null) {
            return;
        }

        try {
            ObjectInputStream ois = new ObjectInputStream(new java.io.
                    FileInputStream(jfc.getSelectedFile()));
            String filetype = null;
            try {
                filetype = (String) ois.readObject();
                if (!filetype.equals("fsnannsim.100.a")) {
                return;
            }
            } catch (ClassNotFoundException ex1) {
            } catch (IOException ex1) {
            }


            sim = new Simulator();
            jdp.add(sim);
            sim.loadData(ois);
            sim.setSelected(true);
        } catch (FileNotFoundException ex) {
        } catch (IOException ex) {
            /** @todo Handle this exception */
        } catch (PropertyVetoException ex) {
            /** @todo Handle this exception */
        }
    } //GEN-LAST:event_mnuSimulationActionPerformed

    private void mnuNetworkActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuNetworkActionPerformed
//        jdp.add(new NetworkGenerator());
    } //GEN-LAST:event_mnuNetworkActionPerformed

    private void mnuPatternActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuPatternActionPerformed
        jdp.add(new BitMapper());
    } //GEN-LAST:event_mnuPatternActionPerformed

    private void mnuImagePatternActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuPatternActionPerformed
        PicturePattern picturepattern = new PicturePattern();
        picturepattern.setSize(900, 650);
        picturepattern.setVisible(true);

    }

    private void mnuAboutActionPerformed(java.awt.event.ActionEvent evt) { //GEN-FIRST:event_mnuPatternActionPerformed
        MDIForm_AboutBox about = new MDIForm_AboutBox();
        about.setSize(300, 250);
        about.setVisible(true);

    }

    /**
     * @param args the command line arguments
     */



    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JSeparator jSeparator1;
    //private javax.swing.JSeparator jSeparator2;
    private javax.swing.JDesktopPane jdp;
    private javax.swing.JMenuItem mnuExit;
    //private javax.swing.JMenuItem mnuGotoStep;
    //private javax.swing.JMenuItem mnuInputData;
    //private javax.swing.JMenuItem mnuLoad;
    //private javax.swing.JMenuItem mnuLoadInput;
    //private javax.swing.JMenuItem mnuNetwork;
    //private javax.swing.JMenuItem mnuNext;
    private javax.swing.JMenuItem mnuPattern;
    private javax.swing.JMenuItem mnuImagePattern;
    private javax.swing.JMenuItem mnuAbout;
    //private javax.swing.JMenuItem mnuRestart;
    private javax.swing.JMenuItem mnuRun;
    private javax.swing.JMenuItem mnuNewSimulation;
    private javax.swing.JMenuItem mnuOpenSimulation;
    //private javax.swing.JMenu mnuStatus;
    // End of variables declaration//GEN-END:variables
    private javax.swing.JToolBar toolbar;
    private javax.swing.JPanel toolpanel;
    private javax.swing.JButton btnRun;
    private javax.swing.JButton btnNextStep;
    private javax.swing.JButton btnStop;
    private javax.swing.JPanel statuspanel;
    private javax.swing.JLabel lblStatus;
    private void jbInit() throws Exception {
    }
}
